{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Fragment } from 'react';\nimport Card from '@material-ui/core/Card';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Avatar from '@material-ui/core/Avatar';\nimport { POST_COMMENT } from \"../../Component/graphalQurey\";\nimport CommentsCard from '../../Component/CommentsCard/CommentsCard';\nimport style from '../../Component/css/Comments.module.scss';\nimport Head from 'next/head';\nimport gql from 'graphql-tag';\nimport { client } from \"../../Component/apollo-client\";\nimport Link from 'next/link';\nimport CommentEditor from '../../Component/CommentEditor/CommentEditor';\nexport default function Comment(props) {\n  const {\n    getData\n  } = props;\n  const {\n    data\n  } = getData;\n  const {\n    post\n  } = data;\n  let UserId;\n  let DisplayName;\n\n  if (false) {\n    UserId = localStorage.getItem(\"userId\");\n    DisplayName = localStorage.getItem(\"displayName\");\n  }\n\n  return __jsx(React.Fragment, null, __jsx(Head, null, __jsx(\"meta\", {\n    charSet: \"utf-8\"\n  })), __jsx(Container, {\n    className: style.root\n  }, __jsx(\"div\", {\n    className: style.cardInner\n  }, __jsx(Typography, {\n    component: \"h3\",\n    variant: \"h3\",\n    className: style.heading\n  }, \"Write a Comment\"), __jsx(Card, {\n    className: style.cardBox\n  }, __jsx(Avatar, {\n    alt: post.featuredImage.altText,\n    src: post.featuredImage.sourceUrl,\n    className: style.imageSize\n  }), __jsx(Link, {\n    href: `/[read]?id=${post.id}`,\n    as: `${post.slug}-${post.id}`\n  }, __jsx(\"a\", {\n    dangerouslySetInnerHTML: {\n      __html: post.title\n    },\n    target: \"_blank\",\n    className: style.cardBoxTitle\n  })))), !UserId && !DisplayName ? __jsx(LoginCheck, null) : __jsx(CommentEditor, {\n    className: style.editorStyle,\n    keyId: post.id,\n    postid: post.postId\n  }), post.comments && post.comments.nodes.map(ReadComments => {\n    return __jsx(\"div\", {\n      key: ReadComments.id\n    }, __jsx(CommentsCard, {\n      key: ReadComments.id,\n      data: ReadComments\n    }), ReadComments.replies && ReadComments.replies.nodes.map(replies => {\n      return __jsx(CommentsCard, {\n        key: replies.id,\n        reply: true,\n        data: replies\n      });\n    }));\n  })));\n}\n\nComment.getInitialProps = async ({\n  pathname,\n  query,\n  asPath,\n  req,\n  res,\n  err\n}) => {\n  const id = query.Comment.split('-').pop();\n\n  try {\n    const getData = await client.query({\n      query: POST_COMMENT,\n      variables: {\n        id\n      }\n    });\n    return {\n      getData\n    };\n  } catch (error) {\n    console.error(error);\n  }\n};\n\nfunction LoginCheck() {\n  return __jsx(\"div\", {\n    className: style.commentLogin\n  }, __jsx(Link, {\n    href: \"/login\"\n  }, __jsx(\"a\", {\n    target: \"_blank\"\n  }, \" Login Now\")));\n}","map":null,"metadata":{},"sourceType":"module"}