{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { Component, useState } from 'react';\nimport Container from '@material-ui/core/Container';\nimport TextField from '@material-ui/core/TextField';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Divider from '@material-ui/core/Divider';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport Link from 'next/link';\nimport { POST_SEARCH } from \"../graphalQurey\";\nimport { useQuery } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\nimport useSWR from 'swr';\nimport { request } from 'graphql-request';\nimport { client } from \"../apollo-client\";\nimport style from '../css/Searchbar.module.scss';\n\nconst fetcher = (query, search) => request('https://www.rajdeepsingh.dev/graphql', query, {\n  search\n});\n\nexport default function Searchbar(props) {\n  const {\n    0: search,\n    1: setSearch\n  } = useState('');\n  const {\n    data,\n    error\n  } = useSWR([POST_SEARCH, search], fetcher);\n\n  const sumbitHandler = e => {\n    e.preventDefault();\n  };\n\n  const changeHandler = e => {\n    setSearch(e.target.value);\n  };\n\n  console.log(data, ' data search');\n  console.log(error, ' error search');\n  return __jsx(\"div\", {\n    className: style.bar\n  }, __jsx(Container, {\n    className: style.box,\n    maxWidth: \"sm\"\n  }, __jsx(\"form\", {\n    className: style.formRoot,\n    onSubmit: sumbitHandler,\n    noValidate: true,\n    autoComplete: \"off\"\n  }, __jsx(TextField, {\n    onChange: changeHandler,\n    id: \"standard-secondary\",\n    className: style.rootText,\n    label: \"Search Here\"\n  })), data ? data.posts.nodes.map(postData => {\n    return __jsx(List, {\n      key: postData.id,\n      className: style.rootList\n    }, __jsx(Link, {\n      href: `/[read]?id=${postData.id}`,\n      as: `${postData.slug}-${postData.id}`\n    }, __jsx(ListItem, {\n      button: true,\n      alignItems: \"flex-start\"\n    }, __jsx(ListItemAvatar, null, __jsx(Avatar, {\n      alt: postData.featuredImage.altText,\n      src: postData.featuredImage.sourceUrl\n    })), __jsx(ListItemText, {\n      primary: postData.title,\n      secondary: __jsx(Typography, {\n        component: \"span\",\n        variant: \"body2\",\n        className: style.inline,\n        color: \"textPrimary\"\n      }, postData.author.name)\n    }))));\n  }) : ''));\n}","map":null,"metadata":{},"sourceType":"module"}