{"ast":null,"code":"import { ApolloClient } from 'apollo-client';\nimport { InMemoryCache, IntrospectionFragmentMatcher } from 'apollo-cache-inmemory'; // import withApollo from 'next-with-apollo';\n\nimport { createHttpLink } from 'apollo-link-http';\nimport fetch from 'isomorphic-unfetch';\nimport introspectionQueryResultData from '../fragmentTypes.json';\nimport { HttpLink } from \"apollo-link-http\"; // whats  that fragmentMatcher read here >>  https://medium.com/@jacky_ttt/day121-warning-heuristic-fragment-matching-going-on-8208b584cb5e\n\nconst fragmentMatcher = new IntrospectionFragmentMatcher({\n  introspectionQueryResultData\n});\nconst cache = new InMemoryCache({\n  fragmentMatcher\n}); // const customFetch = (uri, options) => {\n//   const { operationName } = JSON.parse(options.body);\n//   return fetch(`${uri}/graph/graphql?opname=${operationName}`, options);\n// };\n// const link = createHttpLink({ fetch: customFetch });\n\nconst link = new HttpLink({\n  fetch,\n  uri: \"https://www.rajdeepsingh.dev/graphql\",\n  credentials: 'same-origin',\n  fetchOptions: {\n    mode: 'no-cors'\n  },\n  headers: {\n    'Access-Control-Allow-Credentials': true,\n    'Content-Type': 'application/json',\n    'Access-Control-Allow-Origin': '*'\n  }\n});\nexport const client = new ApolloClient({\n  cache,\n  link\n});","map":null,"metadata":{},"sourceType":"module"}