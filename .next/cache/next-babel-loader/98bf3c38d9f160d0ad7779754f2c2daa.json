{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport ReactMde from \"react-mde\";\nimport * as Showdown from \"showdown\";\nimport gql from 'graphql-tag';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport Button from '@material-ui/core/Button';\nimport style from '../css/Comments.module.scss';\nimport { request } from 'graphql-request';\nimport { COMMENT_MUTATION } from \"../graphalQurey\";\nimport useSWR from 'swr';\n\nconst signUP = input => {\n  return request('https://www.rajdeepsingh.dev/graphql', COMMENT_MUTATION, input);\n};\n\nfunction Alert(props) {\n  return __jsx(MuiAlert, _extends({\n    elevation: 6,\n    variant: \"filled\"\n  }, props));\n}\n\nexport default function CommentEditor(props) {\n  const [value, setValue] = React.useState();\n  const [selectedTab, setSelectedTab] = React.useState(\"write\");\n  const [open, setOpen] = React.useState(false);\n  const [comment, setComment] = React.useState({});\n  const converter = new Showdown.Converter({\n    tables: true,\n    simplifiedAutoLink: true,\n    strikethrough: true,\n    tasklists: true\n  });\n\n  const submitComment = async e => {\n    e.preventDefault();\n    const getUserId = localStorage.getItem(\"userId\");\n    const getDisplayName = localStorage.getItem(\"displayName\");\n    const data = await signUP({\n      \"input\": {\n        \"content\": value,\n        \"author\": getDisplayName,\n        \"userId\": getUserId,\n        \"clientMutationId\": \"createComment\",\n        \"commentOn\": props.postid\n      }\n    }).then(data => {\n      setComment(() => {\n        data;\n      });\n    }).catch(error => setComment(() => {\n      error;\n    }));\n    console.log(getData, 'data Comment ');\n    console.log(data, ' inside getData');\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  }; // const ShowAlertError= (comment.error)? comment.error.response.errors[0].message:'submit'\n\n\n  return __jsx(\"div\", {\n    key: props.keyId,\n    className: \"container\"\n  }, __jsx(\"form\", {\n    onSubmit: submitComment\n  }, __jsx(ReactMde, {\n    value: value,\n    onChange: setValue,\n    selectedTab: selectedTab,\n    onTabChange: setSelectedTab,\n    generateMarkdownPreview: markdown => Promise.resolve(converter.makeHtml(markdown)),\n    childProps: {\n      writeButton: {\n        tabIndex: -1\n      }\n    }\n  }), __jsx(Button, {\n    type: \"submit\",\n    className: style.productButton,\n    size: \"small\"\n  }, \"Submit\")), __jsx(Snackbar, {\n    open: open,\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'center'\n    },\n    autoHideDuration: 6000,\n    onClose: handleClose\n  }, __jsx(Alert, {\n    onClose: handleClose,\n    severity: \"error\"\n  })));\n}","map":{"version":3,"sources":["D:/Nextjs/old-app/Component/CommentEditor/CommentEditor.js"],"names":["React","ReactMde","Showdown","gql","Snackbar","MuiAlert","Button","style","request","COMMENT_MUTATION","useSWR","signUP","input","Alert","props","CommentEditor","value","setValue","useState","selectedTab","setSelectedTab","open","setOpen","comment","setComment","converter","Converter","tables","simplifiedAutoLink","strikethrough","tasklists","submitComment","e","preventDefault","getUserId","localStorage","getItem","getDisplayName","data","postid","then","catch","error","console","log","getData","handleClose","keyId","markdown","Promise","resolve","makeHtml","writeButton","tabIndex","productButton","vertical","horizontal"],"mappings":"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","sourcesContent":["import React from 'react'\nimport ReactMde from \"react-mde\";\nimport * as Showdown from \"showdown\";\nimport gql from 'graphql-tag';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\n\nimport Button from '@material-ui/core/Button';\nimport style from '../css/Comments.module.scss'\nimport { request } from 'graphql-request';\nimport {COMMENT_MUTATION} from \"../graphalQurey\"\nimport useSWR from 'swr'\n\n\nconst signUP = (input) => {\n  return  request('https://www.rajdeepsingh.dev/graphql', COMMENT_MUTATION, input);\n};\n\n\nfunction Alert(props) {\n  return <MuiAlert elevation={6}  variant=\"filled\" {...props} > \n              {/* <div dangerouslySetInnerHTML={{ __html: props.show }}></div>  */}\n          </MuiAlert>\n}\n\n export default  function CommentEditor(props) {\n  const [value, setValue] = React.useState();\n    const [selectedTab, setSelectedTab] = React.useState(\"write\");    \n    const [open, setOpen] = React.useState(false);\n    const [comment, setComment] = React.useState({});\n\n    const converter = new Showdown.Converter({\n      tables: true,\n      simplifiedAutoLink: true,\n      strikethrough: true,\n      tasklists: true\n    });\n\n\n\n    const submitComment= async (e) => {\n        e.preventDefault();          \n            \n          const getUserId= localStorage.getItem(\"userId\")\n          const getDisplayName= localStorage.getItem(\"displayName\");\n         \n         const data = await signUP( {\n            \"input\":{\n                    \"content\": value,\n                    \"author\": getDisplayName, \n                    \"userId\":getUserId,\n                    \"clientMutationId\": \"createComment\",\n                    \"commentOn\": props.postid\n            }\n          }  \n        ).then(\n          (data)=>{\n            setComment( ()=> {data} )\n          }\n        ).catch( (error)=> setComment(()=> {error})\n        )\n        console.log(getData,'data Comment ')\n            \n          console.log(data, ' inside getData');\n\n        }\n      \n     const handleClose = () => {      \n         setOpen(false);\n      };\n      // const ShowAlertError= (comment.error)? comment.error.response.errors[0].message:'submit'\n\n    return (\n      <div key={props.keyId} className=\"container\">\n        \n        <form onSubmit={submitComment} > \n  \n          <ReactMde\n            value={value}\n            onChange={setValue}\n            selectedTab={selectedTab}\n            onTabChange={setSelectedTab}\n            generateMarkdownPreview={markdown =>\n              Promise.resolve(converter.makeHtml(markdown))\n            }\n            childProps={{\n              writeButton: {\n                tabIndex: -1\n              }\n            }}\n  \n          />\n  \n            <Button type=\"submit\" className={style.productButton} size=\"small\">\n                             Submit  \n            </Button>\n        </form>\n      \n       <Snackbar open={open} anchorOrigin={ \n                {    vertical: 'top', \n                    horizontal: 'center' }\n                } \n                autoHideDuration={6000} onClose={handleClose}>\n                  <Alert onClose={handleClose}  severity= \"error\" >\n                         \n                  </Alert>\n              </Snackbar> \n        \n        \n\n       \n      </div>\n    );\n  }"]},"metadata":{},"sourceType":"module"}