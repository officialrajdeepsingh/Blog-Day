{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport ReactMde from \"react-mde\";\nimport * as Showdown from \"showdown\";\nimport gql from 'graphql-tag';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport Button from '@material-ui/core/Button';\nimport style from '../css/Comments.module.scss';\nimport { request } from 'graphql-request';\nimport { COMMENT_MUTATION } from \"../graphalQurey\";\nimport useSWR from 'swr';\n\nconst signUP = input => {\n  return request('https://www.rajdeepsingh.dev/graphql', COMMENT_MUTATION, input);\n}; // const fetcher = query => request('https://api.graph.cool/simple/v1/movies', query)\n\n\nfunction Alert(props) {\n  return __jsx(MuiAlert, _extends({\n    elevation: 6,\n    variant: \"filled\"\n  }, props));\n}\n\nexport default function CommentEditor(props) {\n  const [value, setValue] = React.useState();\n  const [fetchdata, setFetchdata] = React.useState(false);\n  const [selectedTab, setSelectedTab] = React.useState(\"write\");\n  const [userId, setUserId] = React.useState(\"\");\n  const [displayName, setDisplayName] = React.useState(\"\"); //  const { data } = useSWR(isReady ? '/api/user' : null, fetcher, { suspense: true })\n\n  const {\n    data,\n    error\n  } = useSWR(fetchdata ? COMMENT_MUTATION : null, signUP({\n    \"input\": {\n      \"content\": value,\n      \"author\": displayName,\n      \"userId\": userId,\n      \"clientMutationId\": \"createComment\",\n      \"commentOn\": props.postid\n    }\n  }));\n  console.log(data, 'data Comment ');\n  console.log(error, 'error Comment ');\n  console.log(userId, 'userId Comment ');\n  console.log(displayName, 'displayName Comment ');\n  const [open, setOpen] = React.useState(true);\n  const converter = new Showdown.Converter({\n    tables: true,\n    simplifiedAutoLink: true,\n    strikethrough: true,\n    tasklists: true\n  });\n  React.useEffect(() => {\n    if (id) {\n      console.log(id);\n      projectNameRef.current.value = '';\n    }\n  }, [id]);\n\n  const submitComment = e => {\n    e.preventDefault();\n    setFetchdata(true);\n    const getUserId = localStorage.getItem(\"userId\");\n    const getDisplayName = localStorage.getItem(\"displayName\");\n    setDisplayName(getDisplayName);\n    setUserId(getUserId);\n    console.log(getUserId, \"getUserId\");\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return __jsx(\"div\", {\n    key: props.keyId,\n    className: \"container\"\n  }, __jsx(\"form\", {\n    onSubmit: submitComment\n  }, __jsx(ReactMde, {\n    value: value,\n    onChange: setValue,\n    selectedTab: selectedTab,\n    onTabChange: setSelectedTab,\n    generateMarkdownPreview: markdown => Promise.resolve(converter.makeHtml(markdown)),\n    childProps: {\n      writeButton: {\n        tabIndex: -1\n      }\n    }\n  }), __jsx(Button, {\n    type: \"submit\",\n    className: style.productButton,\n    size: \"small\"\n  }, \"Submit\")), data ? __jsx(Snackbar, {\n    open: open,\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'center'\n    },\n    autoHideDuration: 6000,\n    onClose: handleClose\n  }, __jsx(Alert, {\n    onClose: handleClose,\n    severity: \"success\"\n  }, data)) : '');\n}","map":{"version":3,"sources":["D:/Nextjs/old-app/Component/CommentEditor/CommentEditor.js"],"names":["React","ReactMde","Showdown","gql","Snackbar","MuiAlert","Button","style","request","COMMENT_MUTATION","useSWR","signUP","input","Alert","props","CommentEditor","value","setValue","useState","fetchdata","setFetchdata","selectedTab","setSelectedTab","userId","setUserId","displayName","setDisplayName","data","error","postid","console","log","open","setOpen","converter","Converter","tables","simplifiedAutoLink","strikethrough","tasklists","useEffect","id","projectNameRef","current","submitComment","e","preventDefault","getUserId","localStorage","getItem","getDisplayName","handleClose","keyId","markdown","Promise","resolve","makeHtml","writeButton","tabIndex","productButton","vertical","horizontal"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport ReactMde from \"react-mde\";\r\nimport * as Showdown from \"showdown\";\r\nimport gql from 'graphql-tag';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport style from '../css/Comments.module.scss'\r\nimport { request } from 'graphql-request';\r\nimport {COMMENT_MUTATION} from \"../graphalQurey\"\r\nimport useSWR from 'swr'\r\n\r\n\r\nconst signUP = (input) => {\r\n  return  request('https://www.rajdeepsingh.dev/graphql', COMMENT_MUTATION, input);\r\n};\r\n\r\n// const fetcher = query => request('https://api.graph.cool/simple/v1/movies', query)\r\n\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n  }\r\n\r\n  \r\n export default  function CommentEditor(props) {\r\n  const [value, setValue] = React.useState();\r\n    const [fetchdata, setFetchdata  ] = React.useState(false);\r\n    const [selectedTab, setSelectedTab] = React.useState(\"write\");\r\n    const [userId, setUserId] = React.useState(\"\");\r\n    const [displayName, setDisplayName] = React.useState(\"\");\r\n    \r\n    //  const { data } = useSWR(isReady ? '/api/user' : null, fetcher, { suspense: true })\r\n\r\n  const { data, error } =  useSWR( fetchdata? COMMENT_MUTATION : null , signUP( {\r\n                                    \"input\":{\r\n                                            \"content\": value,\r\n                                            \"author\": displayName, \r\n                                            \"userId\":userId,\r\n                                            \"clientMutationId\": \"createComment\",\r\n                                            \"commentOn\": props.postid\r\n                                    }\r\n                                  }  \r\n                                ) \r\n)\r\n \r\n\r\nconsole.log(data,'data Comment ')\r\nconsole.log(error,'error Comment ')\r\nconsole.log(userId,'userId Comment ')\r\nconsole.log(displayName,'displayName Comment ')\r\n\r\n    \r\n    const [open, setOpen] = React.useState(true);\r\n\r\n    const converter = new Showdown.Converter({\r\n      tables: true,\r\n      simplifiedAutoLink: true,\r\n      strikethrough: true,\r\n      tasklists: true\r\n    });\r\n\r\n    React.useEffect(() => {\r\n      if (id) {\r\n        console.log(id);\r\n        projectNameRef.current.value = ''\r\n      }\r\n    }, [id])\r\n\r\n    const submitComment=  (e) => {\r\n        e.preventDefault();          \r\n           setFetchdata(true)   \r\n            \r\n          const getUserId= localStorage.getItem(\"userId\")\r\n          const getDisplayName= localStorage.getItem(\"displayName\");\r\n           setDisplayName(getDisplayName)\r\n           setUserId(getUserId)\r\n           console.log(getUserId, \"getUserId\")\r\n        }\r\n      \r\n     const handleClose = () => {      \r\n         setOpen(false);\r\n      };\r\n       \r\n    return (\r\n      <div key={props.keyId} className=\"container\">\r\n        \r\n        <form onSubmit={submitComment} > \r\n  \r\n          <ReactMde\r\n            value={value}\r\n            onChange={setValue}\r\n            selectedTab={selectedTab}\r\n            onTabChange={setSelectedTab}\r\n            generateMarkdownPreview={markdown =>\r\n              Promise.resolve(converter.makeHtml(markdown))\r\n            }\r\n            childProps={{\r\n              writeButton: {\r\n                tabIndex: -1\r\n              }\r\n            }}\r\n  \r\n          />\r\n  \r\n            <Button type=\"submit\" className={style.productButton} size=\"small\">\r\n                             Submit  \r\n            </Button>\r\n        </form>\r\n      \r\n        {\r\n            (data) ? <Snackbar open={open} anchorOrigin={ \r\n                {    vertical: 'top', \r\n                    horizontal: 'center' }\r\n                } \r\n                autoHideDuration={6000} onClose={handleClose}>\r\n                  <Alert onClose={handleClose} severity=\"success\">\r\n                        {data} \r\n                  </Alert>\r\n              </Snackbar> : ''\r\n        \r\n        }\r\n\r\n       \r\n      </div>\r\n    );\r\n  }"]},"metadata":{},"sourceType":"module"}