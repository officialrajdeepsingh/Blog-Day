{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n\nvar _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport IconButton from '@material-ui/core/IconButton';\nimport Input from '@material-ui/core/Input';\nimport MuiAlert from '@material-ui/lab/Alert';\nimport FilledInput from '@material-ui/core/FilledInput';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport TextField from '@material-ui/core/TextField';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Link from 'next/link';\nimport Snackbar from '@material-ui/core/Snackbar';\nimport { useRouter } from 'next/router';\nimport { NextSeo } from 'next-seo';\nimport style from '../Component/css/Login.module.scss'; // with SWR and graphql-request\n\nimport { request } from 'graphql-request';\nimport loginImage from '../Component/asset/loginImage.png';\nimport { LOGIN_MUTATION } from \"../Component/graphalQurey\";\n\nvar signIN = function signIN(userData) {\n  return request('https://www.rajdeepsingh.dev/graphql', LOGIN_MUTATION, userData);\n};\n\nfunction Alert(props) {\n  return __jsx(MuiAlert, _extends({\n    elevation: 6,\n    variant: \"filled\"\n  }, props), __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: props.show\n    }\n  }));\n}\n\n_c = Alert;\nexport default function Login(props) {\n  _s();\n\n  var router = useRouter(); // signIN\n\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      passward = _React$useState2[0],\n      setPassward = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      open = _React$useState4[0],\n      setOpen = _React$useState4[1];\n\n  var _React$useState5 = React.useState(\"\"),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      userName = _React$useState6[0],\n      setUserName = _React$useState6[1];\n\n  var _React$useState7 = React.useState({}),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      authdata = _React$useState8[0],\n      setAuthToken = _React$useState8[1];\n\n  var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      showPassword = _React$useState10[0],\n      setShowPassword = _React$useState10[1];\n\n  var formSubmit = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(event) {\n      var data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              _context.next = 3;\n              return signIN({\n                \"username\": userName,\n                \"password\": passward\n              }).then(function (data) {\n                setAuthToken(function () {\n                  return {\n                    data: data\n                  };\n                });\n                localStorage.setItem(\"authToken\", data.login.authToken);\n                localStorage.setItem(\"userId\", data.login.user.userId);\n                localStorage.setItem(\"displayName\", data.login.user.username);\n              })[\"catch\"](function (error) {\n                setAuthToken(function () {\n                  return {\n                    error: error\n                  };\n                });\n              });\n\n            case 3:\n              data = _context.sent;\n              setOpen(function () {\n                return true;\n              });\n\n              if (!data === \"undefined\") {\n                router.push(\"/\");\n              }\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function formSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var passwardChange = function passwardChange(event) {\n    setPassward(event.target.value);\n  };\n\n  var userNameChange = function userNameChange(event) {\n    setUserName(event.target.value);\n  };\n\n  var handleClickShowPassword = function handleClickShowPassword() {\n    setShowPassword(true);\n  };\n\n  var handleClose = function handleClose() {\n    setOpen(false);\n  };\n\n  var ShowAlertError = authdata.error ? authdata.error.response.errors[0].message : 'submit';\n  return __jsx(React.Fragment, null, __jsx(NextSeo, {\n    title: \"Login -- Welcome Back \",\n    description: \"Login  page \"\n  }), __jsx(Container, {\n    className: style.containerBox\n  }, __jsx(Card, {\n    className: style.root\n  }, __jsx(\"div\", {\n    className: style.innerCard\n  }, __jsx(\"div\", {\n    className: style.details\n  }, __jsx(CardContent, {\n    className: style.cardContentInner\n  }, __jsx(Typography, {\n    className: style.typeH5,\n    component: \"h6\",\n    variant: \"h6\"\n  }, \"Welcome Back!\"), __jsx(Typography, {\n    className: style.typeH3,\n    component: \"h3\",\n    variant: \"h2\"\n  }, \"Join With Me\"), __jsx(\"form\", {\n    onSubmit: formSubmit,\n    className: style.form,\n    noValidate: true,\n    autoComplete: \"on\"\n  }, __jsx(React.Fragment, null, __jsx(TextField, {\n    onChange: userNameChange,\n    autoComplete: \"username\",\n    id: \"userField\",\n    className: style.textControl,\n    placeholder: \"Enter Your Email Or User Name   \",\n    label: \" Email Or User Name \"\n  }), __jsx(FormControl, {\n    className: style.textControl\n  }, __jsx(InputLabel, {\n    htmlFor: \"LoginPassword\"\n  }, \"Password\"), __jsx(Input, {\n    id: \"LoginPassword\",\n    type: showPassword ? 'text' : 'password',\n    value: passward,\n    onChange: passwardChange,\n    placeholder: \"Enter your Passward\",\n    name: \"password\",\n    autoComplete: \"current-password\",\n    endAdornment: __jsx(InputAdornment, {\n      position: \"end\"\n    }, __jsx(IconButton, {\n      \"aria-label\": \"toggle password visibility\",\n      onClick: handleClickShowPassword\n    }, showPassword ? __jsx(Visibility, null) : __jsx(VisibilityOff, null)))\n  })), __jsx(Button, {\n    type: \"submit\",\n    className: style.productButton,\n    size: \"small\"\n  }, \"Submit\")))), __jsx(\"div\", {\n    className: style.typeLogin\n  }, __jsx(Typography, {\n    className: style.anchorLink,\n    component: \"h6\",\n    variant: \"h6\"\n  }, \"Signup With Me\"), __jsx(Link, {\n    href: \"/signup\"\n  }, __jsx(\"a\", null, \" Click Here \"))), __jsx(\"div\", {\n    className: style.typeLogin\n  }, __jsx(Typography, {\n    className: style.anchorLink,\n    component: \"h6\",\n    variant: \"h6\"\n  }, \"Forget Passward\"), __jsx(Link, {\n    href: \"/ForgetPassward\"\n  }, __jsx(\"a\", null, \" Click   \")))), __jsx(CardMedia, {\n    component: \"img\",\n    alt: \"Login\",\n    image: loginImage,\n    title: \"Login with me\",\n    className: style.cardImage\n  })))), __jsx(Snackbar, {\n    open: open,\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'center'\n    },\n    autoHideDuration: 60000,\n    onClose: handleClose\n  }, __jsx(Alert, {\n    onClose: handleClose,\n    show: ShowAlertError,\n    severity: authdata.error ? \"error\" : 'success'\n  })));\n}\n\n_s(Login, \"FVgC9fthhHFHydaG+/S5R/asP+I=\", false, function () {\n  return [useRouter];\n});\n\n_c2 = Login;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Alert\");\n$RefreshReg$(_c2, \"Login\");","map":{"version":3,"sources":["D:/Nextjs/old-app/pages/Login.js"],"names":["React","Component","Card","CardActionArea","CardActions","CardContent","CardMedia","Button","Typography","Container","IconButton","Input","MuiAlert","FilledInput","OutlinedInput","InputLabel","InputAdornment","FormHelperText","FormControl","TextField","Visibility","VisibilityOff","FormGroup","FormControlLabel","Link","Snackbar","useRouter","NextSeo","style","request","loginImage","LOGIN_MUTATION","signIN","userData","Alert","props","__html","show","Login","router","useState","passward","setPassward","open","setOpen","userName","setUserName","authdata","setAuthToken","showPassword","setShowPassword","formSubmit","event","preventDefault","then","data","localStorage","setItem","login","authToken","user","userId","username","error","push","passwardChange","target","value","userNameChange","handleClickShowPassword","handleClose","ShowAlertError","response","errors","message","containerBox","root","innerCard","details","cardContentInner","typeH5","typeH3","form","textControl","productButton","typeLogin","anchorLink","cardImage","vertical","horizontal"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Input from '@material-ui/core/Input';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport FilledInput from '@material-ui/core/FilledInput';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Visibility from '@material-ui/icons/Visibility';\r\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Link from 'next/link'\r\n\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport { useRouter } from 'next/router'\r\nimport { NextSeo } from 'next-seo';\r\n\r\nimport style from '../Component/css/Login.module.scss'\r\n\r\n// with SWR and graphql-request\r\nimport { request } from 'graphql-request';\r\nimport loginImage from '../Component/asset/loginImage.png'\r\n \r\nimport {LOGIN_MUTATION} from \"../Component/graphalQurey\"\r\n\r\n  const signIN = (userData) => {\r\n    return  request('https://www.rajdeepsingh.dev/graphql', LOGIN_MUTATION, userData);\r\n  };\r\n\r\nfunction Alert(props) {\r\n    return <MuiAlert elevation={6}  variant=\"filled\" {...props} > \r\n                <div dangerouslySetInnerHTML={{ __html: props.show }}></div> \r\n            </MuiAlert>\r\n}\r\n\r\nexport default function Login(props) {\r\n    const router= useRouter()\r\n    // signIN\r\n    const [passward, setPassward] = React.useState(\"\");\r\n    const [open, setOpen] = React.useState(false);\r\n    const [userName, setUserName] = React.useState(\"\");\r\n    const [authdata, setAuthToken] = React.useState({});\r\n    const [showPassword, setShowPassword] = React.useState(false);\r\n\r\n                const formSubmit = async (event) => {\r\n                    event.preventDefault();\r\n                    const data= await signIN({                          \r\n                        \"username\": userName,\r\n                        \"password\": passward\r\n                    }).then(\r\n                        (data)=>{\r\n                            setAuthToken(()=>{  \r\n                                return {data} \r\n                             })\r\n                             localStorage.setItem(\"authToken\", data.login.authToken);\r\n                             localStorage.setItem(\"userId\", data.login.user.userId);\r\n                             localStorage.setItem(\"displayName\",data.login.user.username);\r\n                        }\r\n                    ).catch((error) => {\r\n                        setAuthToken(()=>{  \r\n                            return {error} \r\n                         })\r\n                    })\r\n                    \r\n                     setOpen(()=>{  \r\n                        return true \r\n                     })\r\n\r\n                     if(!data===\"undefined\"){\r\n                        router.push(\"/\")\r\n        \r\n                    }\r\n\r\n                    \r\n                  }\r\n            const passwardChange = (event) => {\r\n                setPassward(event.target.value)\r\n            };\r\n            const userNameChange = (event) => {\r\n                setUserName(event.target.value)\r\n            };\r\n            const handleClickShowPassword = () => {\r\n                setShowPassword(true)           \r\n            };\r\n            const handleClose = () => {      \r\n                setOpen(false);\r\n             };\r\n\r\n             const ShowAlertError= (authdata.error)? authdata.error.response.errors[0].message:'submit'\r\n\r\n            \r\n    return (\r\n        <>\r\n         <NextSeo\r\n            title=\"Login -- Welcome Back \"\r\n            description=\"Login  page \"\r\n    />\r\n            <Container className={style.containerBox}>\r\n                <Card className={style.root} >\r\n                    <div className={style.innerCard}>\r\n                        <div className={style.details}>\r\n                            <CardContent className={style.cardContentInner}>\r\n                                <Typography className={style.typeH5} component=\"h6\" variant=\"h6\">\r\n                                    Welcome Back!\r\n                                </Typography>\r\n                                <Typography className={style.typeH3} component=\"h3\" variant=\"h2\">\r\n                                    Join With Me\r\n                                </Typography>\r\n                                <form onSubmit={formSubmit} className={style.form} noValidate autoComplete=\"on\">\r\n                                   <>\r\n                                    <TextField onChange={userNameChange}  autoComplete=\"username\" id=\"userField\" className={style.textControl} placeholder='Enter Your Email Or User Name   ' label=\" Email Or User Name \" />\r\n                                    <FormControl className={style.textControl} >\r\n                                        <InputLabel htmlFor=\"LoginPassword\">Password</InputLabel>\r\n                                        <Input\r\n                                            id=\"LoginPassword\"\r\n                                            type= {showPassword ? 'text' : 'password'}\r\n                                            value={passward}\r\n                                            onChange={passwardChange}\r\n                                            placeholder='Enter your Passward'\r\n                                            name=\"password\" \r\n                                            autoComplete=\"current-password\"\r\n                                            endAdornment={\r\n                                                <InputAdornment position=\"end\">\r\n                                                    <IconButton\r\n                                                        aria-label=\"toggle password visibility\"\r\n                                                        onClick={handleClickShowPassword}\r\n                                                    >\r\n                                                        {showPassword ? <Visibility /> : <VisibilityOff />}\r\n                                                    </IconButton>\r\n                                                </InputAdornment>\r\n                                            }\r\n                                        />\r\n                                    </FormControl>\r\n                                \r\n                                    <Button type=\"submit\" \r\n                                        className={style.productButton} size=\"small\">\r\n                                            Submit\r\n                                    </Button>\r\n                                \r\n                                    </>\r\n                                </form>\r\n\r\n\r\n                            </CardContent>\r\n\r\n                            <div className={style.typeLogin}> \r\n                                <Typography className={style.anchorLink}  component=\"h6\" variant=\"h6\">\r\n                                        Signup With Me       \r\n                                </Typography>\r\n                                <Link  href='/signup'>  \r\n                                       <a> Click Here </a>\r\n                                </Link>\r\n                            </div>    \r\n                            <div className={style.typeLogin}> \r\n                                <Typography className={style.anchorLink}  component=\"h6\" variant=\"h6\">\r\n                                       Forget Passward    \r\n                                </Typography>\r\n                                <Link  href='/ForgetPassward'>  \r\n                                       <a> Click   </a>\r\n                                </Link>\r\n                            </div>    \r\n\r\n                        </div>\r\n                        <CardMedia\r\n                            component=\"img\"\r\n                            alt=\"Login\"\r\n                            image={loginImage}\r\n                            title=\"Login with me\"\r\n                            className={style.cardImage}\r\n                        />\r\n\r\n                    </div>\r\n                </Card>\r\n            </Container>\r\n\r\n            <Snackbar open={open} anchorOrigin={ \r\n                    {    vertical: 'top', \r\n                        horizontal: 'center' }\r\n                    } \r\n                 autoHideDuration={60000} onClose={handleClose}>\r\n                  <Alert onClose={handleClose}  show={ShowAlertError} severity= {(authdata.error)? \"error\":'success'}></Alert>\r\n              </Snackbar> \r\n        </>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}